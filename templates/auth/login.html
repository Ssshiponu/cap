{% extends 'base.html' %}
{% load static %}

{% block title %}Login | Chat Autopilot{% endblock %}

{% block body %}

    <div class="relative flex flex-col gap-6 items-center justify-center min-h-screen p-8">

        <header>
            {% include "core/partials/brand.html" %}
        </header>
                        
        <div class="relative w-full max-w-sm mx-auto lg:mb-0">
            <div class="relative text-center">
                
                <div class="flex flex-col mb-6 space-y-2">
                    <h1 class="text-xl font-semibold tracking-tight">Welcome back</h1>
                    <p class="text-sm text-neutral-500">Enter your credentials to access your account</p>
                </div>

                {% if messages %}
                    {% for message in messages %}
                        <div class="mb-3 p-2 rounded-lg text-sm {% if message.tags == 'error' %}bg-red-50 text-red-800 border border-red-200{% else %}bg-blue-50 text-blue-800 border border-blue-200{% endif %}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}

                <form action="{% url 'login' %}" method="post" class="space-y-3 text-left">
                    {% csrf_token %}
                    
                    <div class="space-y-1">
                        <label for="email" class="text-sm font-medium">Email</label>
                        <input type="text" id="email" name="email" placeholder="e.g name@example.com" required class="input w-full" value="{{ email }}">
                    </div>

                    <div class="space-y-1" x-data="{ show: false }">
                        <div class="flex items-center justify-between">
                            <label for="password" class="text-sm font-medium">Password</label>
                            <a href="{% url 'password_reset' %}" class="text-xs link">Forgot password?</a>
                        </div>
                        <div class="relative items-center justify-center">
                            <svg @click="show = !show" x-show="!show" class="absolute right-3 cursor-pointer top-1/2 transform -translate-y-1/2 stroke-neutral-600" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye-icon lucide-eye"><path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"/><circle cx="12" cy="12" r="3"/></svg>
                            <svg @click="show = !show" x-show="show" class="absolute right-3 cursor-pointer top-1/2 transform -translate-y-1/2 stroke-neutral-600" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye-closed-icon lucide-eye-closed"><path d="m15 18-.722-3.25"/><path d="M2 8a10.645 10.645 0 0 0 20 0"/><path d="m20 15-1.726-2.05"/><path d="m4 15 1.726-2.05"/><path d="m9 18 .722-3.25"/></svg>
                            <input :type="show ? 'text' : 'password'" id="password" name="password" placeholder="••••••••" required class="input w-full">
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary w-full mt-6">
                        Sign In
                    </button>

                    <div class="relative py-4">
                        <div class="absolute inset-0 flex items-center"><span class="w-full border-t-2 border-neutral-200"></span></div>
                        <div class="relative flex justify-center text-xs uppercase">
                            <span class="px-2 bg-white text-neutral-500">Or continue with</span>
                        </div>
                    </div>
                    <a href="#" class="btn w-full flex items-center justify-center gap-2" type="button">
                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M576 320C576 178.6 461.4 64 320 64C178.6 64 64 178.6 64 320C64 440 146.7 540.8 258.2 568.5L258.2 398.2L205.4 398.2L205.4 320L258.2 320L258.2 286.3C258.2 199.2 297.6 158.8 383.2 158.8C399.4 158.8 427.4 162 438.9 165.2L438.9 236C432.9 235.4 422.4 235 409.3 235C367.3 235 351.1 250.9 351.1 292.2L351.1 320L434.7 320L420.3 398.2L351 398.2L351 574.1C477.8 558.8 576 450.9 576 320z"/></svg>
                        <span>Facebook</span>
                    </a>
                    <a class="btn w-full flex items-center justify-center gap-2" type="button">
                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M564 325.8C564 467.3 467.1 568 324 568C186.8 568 76 457.2 76 320C76 182.8 186.8 72 324 72C390.8 72 447 96.5 490.3 136.9L422.8 201.8C334.5 116.6 170.3 180.6 170.3 320C170.3 406.5 239.4 476.6 324 476.6C422.2 476.6 459 406.2 464.8 369.7L324 369.7L324 284.4L560.1 284.4C562.4 297.1 564 309.3 564 325.8z"/></svg>
                        <span>Google</span>
                    </a>
                    
                </form>
            </div>
            <p class="mt-6 text-sm text-center text-neutral-500">Don't have an account? <a href="{% url 'register_lander' %}" class="link">Sign Up</a></p>
            <p class="px-8 mt-1 text-sm text-center text-neutral-500">By continuing, you agree to our <a class="link" href="/terms">Terms</a> and <a class="link" href="/privacy">Policy</a>.</p>
        </div>
    </div>
{% endblock %}