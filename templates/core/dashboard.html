{% extends "base.html" %}
{% load static %}
{% block body %}
<div x-data="main()" class="overflow-hidden h-dvh flex flex-col">
    <header class="bg-white border-b-2 border-neutral-200 z-20">
        <div class="flex items-center justify-between h-full py-2 px-4 mx-auto">


            <div class="flex gap-4">
                <button class="btn border-none p-2 aspect-square" @click="sidebar = !sidebar; console.log(sidebar)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu-icon lucide-menu"><path d="M4 5h16"/><path d="M4 12h16"/><path d="M4 19h16"/></svg>
                </button>
                {% include "brand.html" %}
            </div>

            <div class="flex gap-4 items-center">
                <nav class="hidden md:block">
                    <ul class="flex items-center gap-2">

                        <li><a href="#" class="btn-link">
                            <lord-icon
                                src="https://cdn.lordicon.com/biqqsrac.json"
                                trigger="hover"
                                style="width:20px;height:20px">
                            </lord-icon>
                            Get Help</a></li>
                    </ul>
                </nav>
                <div x-data="{ open: false }" class="relative">
                    <div @click="open = !open" class="w-10 h-10 border-2 border-neutral-300 rounded-full overflow-hidden">
                        <img src="https://placehold.co/40/e0e0e0/b0b0b0?text={{ user.username|slice:':1'|upper }}" alt="">
                    </div>
                    <div x-show="open" @click.outside="open = false"
                            x-transition:enter="ease-out duration-200"
                            x-transition:enter-start="-translate-y-2"
                            x-transition:enter-end="translate-y-0"

                    class="absolute right-0 mt-6 w-60 lg:w-72 bg-white border-2 border-neutral-200 rounded-xl shadow-lg overflow-hidden z-10 flex flex-col gap-2 p-2" style="display: none;">
                        <div class="py-3 px-4">
                            <p class="font-semibold">@{{ user.username }} </p>
                            <p class="text-sm text-neutral-600">{{ user.email }}</p>
                        </div>
                        <div class="border-t-2 border-neutral-200"></div>
                        <a href="#" class="btn-link">
                            <lord-icon
                                src="https://cdn.lordicon.com/bushiqea.json"
                                trigger="hover"
                                style="width:20px;height:20px">
                            </lord-icon>
                            Profile</a>
                        <a href="#" class="btn-link">
                            <lord-icon
                                src="https://cdn.lordicon.com/asyunleq.json"
                                trigger="hover"
                                style="width:20px;height:20px">
                            </lord-icon>
                            Settings</a>
                        <a href="{% url 'logout' %}" class="btn-link text-red-600">

                           <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out-icon lucide-log-out"><path d="m16 17 5-5-5-5"/><path d="M21 12H9"/><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/></svg>
                            Logout</a>
                    </div>
                </div>
            </div>


        </div>
    </header>

    <div class="flex-1 flex transition-all">
        <div x-show="sidebar" @click="sidebar = false" class="lg:hidden absolute z-1 inset-0 bg-white/50 backdrop-blur-xs" x-transition style="display: none;"></div>
        <aside x-show="sidebar"

        class="absolute pt-16 lg:pt-4 lg:static inset-y-0 left-0 overflow-hidden bg-white border-r-2 border-neutral-200 w-0 lg:w-60 h-full z-2 transition-all duration-300 ease-in-out"
        :class="{'w-60': sidebar, 'w-0': !sidebar}"
        >
        <div class="p-4">
            <div class="flex flex-col gap-4">
                <a href="/messenger/" class="btn-link py-3 px-5 text-lg rounded-xl {% if request.path == '/messenger/' or request.path == '/setup-messenger/' %}bg-neutral-100 text-black font-semibold{% endif %}">
                    <svg class="w-8 h-8 object-cover" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M256.6 8c-140 0-248.6 102.3-248.6 240.6 0 72.3 29.7 134.8 78.1 177.9 8.3 7.5 6.6 11.9 8 58.2 .1 3.2 1 6.4 2.6 9.2s3.9 5.2 6.7 6.9 5.9 2.8 9.1 3 6.5-.3 9.5-1.6C174.9 479 175.6 477.2 184.6 479.6 337.8 521.8 504 423.7 504 248.6 504 110.3 396.6 8 256.6 8zM405.8 193.1l-73 115.6c-2.8 4.3-6.4 8.1-10.6 11s-9.1 4.8-14.1 5.8-10.3 .8-15.3-.4-9.7-3.4-13.8-6.4l-58.1-43.5c-2.6-1.9-5.8-3-9-3s-6.4 1.1-9 3l-78.4 59.4c-10.5 7.9-24.2-4.6-17.1-15.7l73-115.6c2.8-4.3 6.4-8.1 10.6-11s9.1-4.8 14.1-5.8 10.3-.8 15.3 .4 9.7 3.4 13.9 6.4l58.1 43.5c2.6 1.9 5.8 3 9 3s6.4-1.1 9-3l78.4-59.4c10.4-8 24.1 4.5 17.1 15.6z"/></svg>
                    Messenger</a>
                <a href="/whatsapp/" class="btn-link py-3 px-5 text-lg rounded-xl {% if request.path == '/whatsapp/' or request.path == '/setup-whatsapp/' %}bg-neutral-100 text-black font-semibold{% endif %}">
                    <svg class="w-8 h-8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M380.9 97.1c-41.9-42-97.7-65.1-157-65.1-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480 117.7 449.1c32.4 17.7 68.9 27 106.1 27l.1 0c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3 18.6-68.1-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6zM325.1 300.5c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6z"/></svg>
                    Whatsapp</a>
            </div>
            <div class="mt-8 flex flex-col gap-4 border-t-2 border-neutral-200 pt-4">
                <a href="/dashboard/" class="btn-link  {% if request.path == '/dashboard/' %} bg-neutral-100 {% endif %}">
                    <lord-icon
                        src="https://cdn.lordicon.com/oeotfwsx.json"
                        trigger="hover"
                        style="width:20px;height:20px">
                    </lord-icon>
                    Home
                </a>
                <a href="/apps/" class="btn-link {% if request.path == '/apps/' %} bg-neutral-100 {% endif %}">
                    <lord-icon
                        src="https://cdn.lordicon.com/gzqofmcx.json"
                        trigger="hover"
                        style="width:20px;height:20px">
                    </lord-icon>
                    Apps
                </a>
                <a href="/settings/" class="btn-link {% if request.path == '/settings/' %} bg-neutral-100 {% endif %}">
                    <lord-icon
                        src="https://cdn.lordicon.com/asyunleq.json"
                        trigger="hover"
                        style="width:20px;height:20px">
                    </lord-icon>
                    Settings
                </a>
                <a href="/help/" class="btn-link {% if request.path == '/help/' %} bg-neutral-100 {% endif %}">
                    <lord-icon
                        src="https://cdn.lordicon.com/biqqsrac.json"
                        trigger="hover"
                        style="width:20px;height:20px">
                    </lord-icon>
                    Get Help
                </a>
            </div>
        </div>
            
        </aside>

        <section class="flex-1 h-full bg-neutral-50">
            {% block content %}
                <div class="p-6 md:p-10 overflow-y-auto h-[2000px]">
                    <h1 class="h mb-6">Dashboard</h1>
                    <p class="text-neutral-700 mb-8">
                        Welcome to Chat Autopilot! Select a service to get started.
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <a href="/messenger/" class="flex flex-col gap-4 py-4 px-6 text-lg border-2 border-neutral-200 hover:bg-neutral-50 border-dashed rounded-xl">
                            <span class="flex items-center gap-3">
                                <svg class="w-8 h-8 object-cover" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M256.6 8c-140 0-248.6 102.3-248.6 240.6 0 72.3 29.7 134.8 78.1 177.9 8.3 7.5 6.6 11.9 8 58.2 .1 3.2 1 6.4 2.6 9.2s3.9 5.2 6.7 6.9 5.9 2.8 9.1 3 6.5-.3 9.5-1.6C174.9 479 175.6 477.2 184.6 479.6 337.8 521.8 504 423.7 504 248.6 504 110.3 396.6 8 256.6 8zM405.8 193.1l-73 115.6c-2.8 4.3-6.4 8.1-10.6 11s-9.1 4.8-14.1 5.8-10.3 .8-15.3-.4-9.7-3.4-13.8-6.4l-58.1-43.5c-2.6-1.9-5.8-3-9-3s-6.4 1.1-9 3l-78.4 59.4c-10.5 7.9-24.2-4.6-17.1-15.7l73-115.6c2.8-4.3 6.4-8.1 10.6-11s9.1-4.8 14.1-5.8 10.3-.8 15.3 .4 9.7 3.4 13.9 6.4l58.1 43.5c2.6 1.9 5.8 3 9 3s6.4-1.1 9-3l78.4-59.4c10.4-8 24.1 4.5 17.1 15.6z"/></svg>
                                Messenger
                            </span>
                            <p class="text-sm text-neutral-500">
                                Connect your Facebook Messenger to make customers conversation Autopilot.
                            </p>
                        </a>
                        <a href="/whatsapp/" class="flex flex-col gap-4 py-4 px-6 text-lg border-2 border-neutral-200 hover:bg-neutral-50 border-dashed rounded-xl">
                            <span class="flex items-center gap-3">
                                <svg class="w-8 h-8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M380.9 97.1c-41.9-42-97.7-65.1-157-65.1-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480 117.7 449.1c32.4 17.7 68.9 27 106.1 27l.1 0c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3 18.6-68.1-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6zM325.1 300.5c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6z"/></svg>
                                whatsapp
                            </span>
                            <p class="text-sm text-neutral-500">
                                Connect your Whatsapp to make customers conversation Autopilot.
                            </p>
                        </a>
                    </div>
                    <p class="mt-6 text-neutral-700">
                        Start setting up your first service to get started.
                        <br>
                        If you are not sure what to do, please contact us. We are here to help!
                    </p>
                    <h2 class="mt-4 text-lg font-semibold">Contact Information</h2>
                    <p class="text-sm text-neutral-500 mt-2">
                        Email: <a href="mailto:customer@chatautopilot.net" class="underline text-blue-600">customer@chatautopilot.net</a>
                        <br>
                        Phone: <a href="tel:+1234567890" class="underline text-blue-600">+1 (234) 567-890</a>
                    </p>
                </div>
            {% endblock content %}
        </section>
        
    </div>
</div>
{% endblock body %}

    {% block scripts %}
    <script src="{% static 'js/main.js' %}"></script>

    {% endblock scripts %}