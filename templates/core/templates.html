{% extends "core/dashboard.html" %}

{% block content %}
    <div class="p-6 md:p-10 max-w-4xl">

        <div class="flex flex-col gap-6">


            <div class="max-w-4xl" x-data="{ templates: {{ templates }}, selected: 'F-commerce' }">
                <h2 class="h2 mb-4">System Prompt Templates</h2>
                <p class="info text-xs mb-2">Chose a template, edit and paste it into the system prompt.</p>
                <div class="border border-neutral-200 rounded-lg overflow-hidden">
                    <div class="relative bg-white border-b border-neutral-200">

                        <div class="absolute inset-y-0 right-0 w-10 bg-gradient-to-l from-white to-transparent flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="stroke-neutral-500 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right-icon lucide-chevron-right"><path d="m9 18 6-6-6-6"/></svg>
                        </div>
                        <div class="p-3 flex gap-3 overflow-x-auto mr-4">
                            <template x-for="template in templates" :key="template.name">
                                <div class="py-2 px-3 rounded text-nowrap" :class="{ 'bg-neutral-100 text-neutral-800': selected != template.name, 'bg-neutral-900 text-white': selected == template.name}" @click="selected = template.name" x-text="template.name"></div>
                            </template>
                        </div>
                    </div>
                    <div class="p-3 h-64 sm:h-80 lg:h-96 overflow-auto">
                        <p x-ref="promptContent" class="text-neutral-800" x-text="templates.find(template => template.name == selected).content">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus corporis porro nesciunt facere praesentium sunt id excepturi doloremque eos, vitae mollitia quae, voluptatem quibusdam. Voluptatum maiores aspernatur maxime doloribus ab perferendis eum ducimus voluptatibus, praesentium blanditiis eos omnis enim. Unde, ex. Possimus, quas omnis. Laudantium architecto tempora officiis numquam magnam perferendis nobis sapiente quidem sed aperiam atque, repellendus aliquam animi magni, accusantium voluptates. Asperiores, aut! Nisi distinctio tempora eos accusamus dolorum! Ducimus illo nulla tempora neque ullam est at natus. Enim amet perferendis aut tempore accusamus eos ea, quis quaerat. Voluptate cupiditate vel rerum odit officia culpa quos minus quisquam.
                        </p>
                    </div>
                </div>
                <div x-data="{ copied: false,
                    copy() { 
                        navigator.clipboard.writeText(this.$refs.promptContent.innerHTML.trim());
                        this.copied = true;
                        setTimeout(() => this.copied = false, 2000);
                    }
                }"
                    class="flex items-center justify-end gap-3 mt-4">
                    <div x-on:click="copy()" class="btn btn-primary">
                        <div x-show="!copied" class=" flex items-center gap-2">

                            <svg  xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy-icon lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                            Copy
                        </div>

                        <div x-show="copied" class="flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy-check-icon lucide-copy-check"><path d="m12 15 2 2 4-4"/><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                            Copied
                        </div>
                    </div>
                </div>
            </div>
            
        </div>



    </div>
{% endblock content %}